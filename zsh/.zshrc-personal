# My personal stuff

## Plugins (outside oh-my-zsh) ##
if [ -f /usr/share/zsh/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh ]; then
    source /usr/share/zsh/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh
fi

if [ -f /usr/share/zsh/plugins/zsh-autosuggestions/zsh-autosuggestions.zsh ]; then
    source /usr/share/zsh/plugins/zsh-autosuggestions/zsh-autosuggestions.zsh
fi

## Completion
# Automatically highlight first element of completion menu
setopt MENU_COMPLETE
# Automatically list choices on ambiguous completion
setopt AUTO_LIST

# Allow you to select in a menu
zstyle ':completion:*' menu select

## Fix DEL key displaying ~ in alacritty
bindkey "^[[3~" delete-char

## Aliases ##
# Generic stuff
alias cp="cp -irv"
alias mkdir="mkdir -pv"
alias rm="rm -iv"

# Screen layout
# alias screenhome="./.screenlayout/seb-home.sh"
# alias screenwork="./.screenlayout/seb-work.sh"

# Git aliases
# Git aliases
alias ga="git add"
alias gc="git commit --verbose"
alias gcb="git checkout -b"
alias gcf="git config --list"
alias gd="git diff"
alias gds="git diff --staged"
alias glg="git log --stat"
alias glgg="git log --graph"
alias glgga="git log --graph --decorate --all"
alias glo="git log --oneline --decorate"
alias gp="git push"
alias gst="git status"

# Kubernetes aliases
alias k="kubectl"
alias kgn="kubectl get namespace"
alias kgp="kubectl get pods"
alias kgpa="kubectl get pods --all-namespaces"
alias kgs="kubectl get services"
alias kgsa="kubectl get services --all-namespaces"alias k="kubectl"
alias kc="kubectx"
alias kn="kubens"

alias h="helm"

# Lazygit
alias lg="lazygit"

# Replace ls by exa
alias ls="exa --icons --all --across --group-directories-first"
alias ll="exa --icons --all --long --group-directories-first"

# Neovim
# Se-VIM config
alias svim="NVIM_APPNAME=se-vim nvim"
alias vi="NVIM_APPNAME=se-vim nvim"
alias vim="NVIM_APPNAME=se-vim nvim"

# Catppuccin theming for FZF
export FZF_DEFAULT_OPTS=" \
--color=bg+:#313244,bg:#1e1e2e,spinner:#f5e0dc,hl:#f38ba8 \
--color=fg:#cdd6f4,header:#f38ba8,info:#cba6f7,pointer:#f5e0dc \
--color=marker:#f5e0dc,fg+:#cdd6f4,prompt:#cba6f7,hl+:#f38ba8"

# Enable fzf key bindings
if [ -f "/usr/share/fzf/key-bindings.zsh" ]; then
    source "/usr/share/fzf/key-bindings.zsh"
fi

# Enable fzf completion
if [ -f "/usr/share/fzf/completion.zsh" ]; then
    source "/usr/share/fzf/completion.zsh"
fi

# Add ~/.local/bin to PATH if it exists
if [ -d "$HOME/.local/bin" ]; then
    export PATH="$HOME/.local/bin:$PATH"
fi

## Eval commands ##
# zoxide init
if [ -x "$(command -v zoxide)" ]; then
    eval "$(zoxide init zsh)"
fi

# fnm
if [ -d "$HOME/.local/share/fnm" ]; then
    export PATH="/home/seb/.local/share/fnm:$PATH"
    eval "$(fnm env --use-on-cd)"
fi

# Scaleway CLI autocomplete initialization.
if [ -x "$(command -v scw)" ]; then
    eval "$(scw autocomplete script shell=zsh)"
fi

# Starship prompt - should always be last
if [ -x "$(command -v starship)" ]; then
    eval "$(starship init zsh)"
fi
