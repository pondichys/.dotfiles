#   _______| |__  _ __ ___      _ __   ___ _ __ ___  ___  _ __   __ _| |
#  |_  / __| '_ \| '__/ __|____| '_ \ / _ \ '__/ __|/ _ \| '_ \ / _` | |
# _ / /\__ \ | | | | | (_|_____| |_) |  __/ |  \__ \ (_) | | | | (_| | |
#(_)___|___/_| |_|_|  \___|    | .__/ \___|_|  |___/\___/|_| |_|\__,_|_|
#                              |_|

## Plugins (outside oh-my-zsh) ##
if [ -f /usr/share/zsh/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh ]; then
    source /usr/share/zsh/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh
fi

if [ -f /usr/share/zsh/plugins/zsh-autosuggestions/zsh-autosuggestions.zsh ]; then
    source /usr/share/zsh/plugins/zsh-autosuggestions/zsh-autosuggestions.zsh
fi

## Completion
# Automatically highlight first element of completion menu
setopt MENU_COMPLETE
# Automatically list choices on ambiguous completion
setopt AUTO_LIST

# Allow you to select in a menu
zstyle ':completion:*' menu select

## Fix DEL key displaying ~ in alacritty
bindkey "^[[3~" delete-char

## Insert your personal aliases here ##
alias cp="cp -irv"
alias mkdir="mkdir -pv"
alias rm="rm -iv"

alias df="df -h"
alias free="free -m"

alias grep="grep --color=auto"
alias egrep="egrep --color=auto"
alias fgrep="fgrep --color=auto"

# Git aliases
alias ga="git add"
alias gc="git commit --verbose"
alias gcb="git checkout -b"
alias gcf="git config --list"
alias gd="git diff"
alias gds="git diff --staged"
alias glg="git log --stat"
alias glgg="git log --graph"
alias glgga="git log --graph --decorate --all"
alias glo="git log --oneline --decorate"
alias gp="git push"
alias gst="git status"

# Kubernetes aliases
alias k="kubectl"
alias kgn="kubectl get namespace"
alias kgp="kubectl get pods"
alias kgpa="kubectl get pods --all-namespaces"
alias kgs="kubectl get services"
alias kgsa="kubectl get services --all-namespaces"

alias lg="lazygit"

alias ls="exa --icons --all --across --group-directories-first"
alias ll="exa --icons --all --long --group-directories-first"

alias screenhome="xrandr --current --size 1920x1080"

# Terraform aliases
alias tf="terraform"
alias tfa="terraform apply"
alias tfc="terraform console"
alias tfd="terraform destroy"
alias tff="terraform fmt"
alias tfi="terraform init"
alias tfo="terraform output"
alias tfp="terraform plan"
alias tfv="terraform validate"

# nvim aliases
alias vi="nvim"
alias vim="nvim"

alias psmem="ps auxf | sort -nr -k 4 | head -5"
alias pscpu="ps auxf | sort -nr -k 3 | head -5"

# Void Linux only
alias update="sudo xbps-install -Su"

# Catppuccin theming for FZF
export FZF_DEFAULT_OPTS=" \
--color=bg+:#313244,bg:#1e1e2e,spinner:#f5e0dc,hl:#f38ba8 \
--color=fg:#cdd6f4,header:#f38ba8,info:#cba6f7,pointer:#f5e0dc \
--color=marker:#f5e0dc,fg+:#cdd6f4,prompt:#cba6f7,hl+:#f38ba8"

# Catppuccin colors for ls and exa
export LS_COLORS="di=38;2;203;166;247:fi=38;2;205;214;244:ex=38;2;166;227;161:ln=38;2;137;220;235"
export EXA_COLORS="uu=38;2;116;199;236:ur=38;2;249;226;175:uw=38;2;243;139;168:ux=38;2;166;227;161:sn=38;2;166;227;161:sb=38;2;166;227;161"

## neofetch
neofetch

if [ -d "$HOME/.local/bin" ]; then
    export PATH="$HOME/.local/bin:$PATH"
fi

## Eval commands ##
# zoxide init
if [ -x "$(command -v zoxide)" ]; then
    eval "$(zoxide init zsh)"
fi

# fnm
if [ -d "$HOME/.local/share/fnm" ]; then
    export PATH="/home/seb/.local/share/fnm:$PATH"
    eval "$(fnm env --use-on-cd)"
fi

# Scaleway CLI autocomplete initialization.
if [ -x "$(command -v scw)" ]; then
    eval "$(scw autocomplete script shell=zsh)"
fi

# Starship prompt - should always be last
if [ -x "$(command -v starship)" ]; then
    eval "$(starship init zsh)"
fi
